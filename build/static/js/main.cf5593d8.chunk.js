(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{106:function(e,t,a){e.exports=a(244)},111:function(e,t,a){},244:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(42),i=a.n(o),c=(a(111),a(26)),l=a(27),s=a(32),u=a(28),d=a(31),m=a(11),p=a(21),v=a(9),f={isSignedIn:!1,displayName:"",email:"",phoneNumber:"",photoURL:"",uid:""},h=a(105),b={videos:[],videosForLater:[],selectedVideo:null},E={term:""},g=Object(p.c)({authUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"user_login_success":return Object(v.a)({},e,t.payload);case"user_reset_default":return Object(v.a)({},e,f);default:return e}},videoUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"set_video_default":case"set_video_search":case"set_video_selected":return Object(v.a)({},e,t.payload);case"set_video_for_later":return Object(v.a)({},e,{videosForLater:[].concat(Object(h.a)(e.videosForLater.filter(function(e){return e.id.videoId!==t.video.id.videoId})),[t.video])});case"unsave_video_for_later":return Object(v.a)({},e,{videosForLater:e.videosForLater.filter(function(e){return e.id.videoId!==t.video.id.videoId})});case"set_all_videos_for_later":return Object(v.a)({},e,{videosForLater:t.videosForLater||[]});default:return e}},searchBar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"set_searchbar_term":return Object(v.a)({},e,t.payload);default:return e}}}),y=a(101),_=a(8),O=a.n(_),C=a(102),j=a.n(C),L=a(51),N=function(e){var t=O.a.auth();O.a.database().ref("/users/".concat(t.currentUser.uid,"/video")).set({videosForLater:e.videoUser.videosForLater})},B=a(99),I=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.userOnAuthStateChange()}},{key:"renderLoginForm",value:function(){return this.props.isSignedIn?r.a.createElement(B.a,{to:"/home"}):r.a.createElement(B.a,{to:"/auth"})}},{key:"render",value:function(){return this.renderLoginForm()}}]),t}(n.Component),D=Object(m.b)(function(e){return Object(v.a)({},e.authUser)},{userOnAuthStateChange:function(){return function(e){O.a.auth().onAuthStateChanged(function(t){t?(e(function(e){var t=e.providerData[0];return{type:"user_login_success",payload:{displayName:t.displayName,email:t.email,phoneNumber:t.phoneNumber,photoURL:t.photoURL,uid:t.uid,isSignedIn:!0}}}(t)),function(e){var t=O.a.auth(),a=e.displayName,n=e.email,r=e.phoneNumber,o=e.photoURL,i=e.uid;O.a.database().ref("/users/".concat(t.currentUser.uid,"/user")).set({displayName:a,email:n,phoneNumber:r,photoURL:o,uid:i})}(t),function(e){var t=O.a.auth();O.a.database().ref("/users/".concat(t.currentUser.uid,"/video")).on("value",function(t){t.val()&&e({type:"set_all_videos_for_later",videosForLater:t.val().videosForLater})})}(e)):e({type:"user_reset_default",payload:{isSignedIn:!1,displayName:"",email:"",phoneNumber:"",photoURL:"",uid:""}})})}}})(I),w=a(43),F=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).onInputChange=a.onInputChange.bind(Object(w.a)(Object(w.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"onInputChange",value:function(e){this.props.setTerm(this.refs.pathInput.value),this.props.onSearchTermChange(this.refs.pathInput.value)}},{key:"render",value:function(){return r.a.createElement("input",{className:"form-control",value:this.props.term,onChange:this.onInputChange,ref:"pathInput"})}}]),t}(r.a.Component),M=Object(m.b)(function(e){return{term:e.searchBar.term}},{setTerm:function(e){return{type:"set_searchbar_term",payload:{term:e}}}})(F),S=function(e){var t=e.video;if(!t)return r.a.createElement("div",null,"Search for any video...");var a=t.id.videoId,n="https://www.youtube.com/embed/".concat(a);return r.a.createElement("div",{className:"video-detail"},r.a.createElement("div",{className:"embed-responsive embed-responsive-16by9"},r.a.createElement("iframe",{title:"iframe",className:"embed-responsive-item",src:n})),r.a.createElement("div",{className:"details"},r.a.createElement("div",null,t.snippet.title),r.a.createElement("div",null,t.snippet.description)))},k=a(3),U=Object(m.b)(function(e,t){return{video:t.video,videosForLater:e.videoUser.videosForLater}},{setVideoSelected:function(e){return{type:"set_video_selected",payload:{selectedVideo:e}}},setVideoForLater:function(e){return function(t,a){t({type:"set_video_for_later",video:e}),N(a())}},unsaveVideoForLater:function(e){return function(t,a){t({type:"unsave_video_for_later",video:e}),N(a())}}})(function(e){var t=e.video,a=t.snippet.thumbnails.default.url;return r.a.createElement(k.MDBRow,null,r.a.createElement(k.MDBCol,{md:"9"},r.a.createElement(k.MDBCard,null,r.a.createElement(k.MDBCardBody,{onClick:function(){return e.setVideoSelected(t)},className:"video-list media"},r.a.createElement("div",{className:"media-left"},r.a.createElement("img",{alt:"",className:"media-object",src:a})),r.a.createElement("div",{className:"media-body"},r.a.createElement("div",{className:"media-heading"},t.snippet.title))))),r.a.createElement(k.MDBCol,{md:"3"},function(t){return 0!==e.videosForLater.length&&function(t){return e.videosForLater.map(function(e){return e.id.videoId}).indexOf(t.id.videoId)>-1}(t)?r.a.createElement("button",{onClick:function(){return e.unsaveVideoForLater(t)},className:"btn btn-success"},"Saved for later"):r.a.createElement("button",{onClick:function(){return e.setVideoForLater(t)},className:"btn btn-primary"},"Watch later")}(t)))}),V=function(e){var t=e.videos.map(function(e){return r.a.createElement(U,{key:e.etag,video:e})});return r.a.createElement(k.MDBCard,{className:"col-md-12 list-group"},t)},R=Object(m.b)(function(e){var t=e.videoUser;return{videos:t.videos,selectedVideo:t.selectedVideo,videosForLater:t.videosForLater}},{videoSearch:function(e){var t=L.googleApiConfig.apiKey;return function(a){j()({key:t,term:e},function(e){return a(function(e){return{type:"set_video_search",payload:{videos:e,selectedVideo:e[0]}}}(e))})}},userLogOut:function(){return function(e){O.a.auth().signOut().then(function(){e({type:"user_reset_default",payload:{isSignedIn:!1,displayName:"",email:"",phoneNumber:"",photoURL:"",uid:""}}),e({type:"set_video_default",payload:{videos:[],videosForLater:[],selectedVideo:null}})})}}})(function(e){var t=e.videoSearch,a=e.userLogOut,n=e.selectedVideo,o=e.videosForLater,i=e.videos;return r.a.createElement(k.MDBContainer,null,r.a.createElement("br",null),r.a.createElement(k.MDBRow,null,r.a.createElement(k.MDBCol,{md:"10"},r.a.createElement(M,{onSearchTermChange:function(e){return t(e)}})),r.a.createElement(k.MDBCol,{md:"2"},r.a.createElement("button",{onClick:function(){return a()},className:"btn btn-danger"},"Sign Out!"))),r.a.createElement(k.MDBRow,null,r.a.createElement(k.MDBCol,{md:"6"},r.a.createElement(k.MDBCard,null,r.a.createElement(S,{video:n})),r.a.createElement("br",null),r.a.createElement(k.MDBCard,null,r.a.createElement(k.MDBCard,null,r.a.createElement("div",{className:"details"},r.a.createElement("div",{style:{alignItems:"center"}},"Videos to watch later..."))),r.a.createElement(V,{videos:o}))),r.a.createElement(k.MDBCol,{md:"6"},r.a.createElement(V,{videos:i}))))}),A=(a(234),a(236),a(238),a(104)),x=a.n(A),z={signInFlow:"popup",signInOptions:[O.a.auth.GoogleAuthProvider.PROVIDER_ID],callbacks:{signInSuccess:function(){return!1}}},W=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(k.MDBContainer,null,r.a.createElement(k.MDBRow,null,r.a.createElement(k.MDBCol,{md:"3"}),r.a.createElement(k.MDBCol,{md:"6"},r.a.createElement(k.MDBCard,null,r.a.createElement(k.MDBCardBody,{className:"mx-4"},r.a.createElement("div",{className:"text-center"},r.a.createElement("h3",{className:"dark-grey-text mb-5"},r.a.createElement("strong",null,"Sign in"))),r.a.createElement("div",{className:"row my-3 d-flex justify-content-center"},r.a.createElement(x.a,{uiConfig:z,firebaseAuth:O.a.auth()}))))))))},J=a(97),T=a(71),K=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){O.a.initializeApp(L.firebaseConfig)}},{key:"render",value:function(){return r.a.createElement(m.a,{store:Object(p.d)(g,{},Object(p.a)(y.a))},r.a.createElement(J.a,null,r.a.createElement("div",null,r.a.createElement(T.a,{path:"/",component:D}),r.a.createElement(T.a,{path:"/auth",component:W}),r.a.createElement(T.a,{path:"/home",component:R}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(K,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},51:function(e){e.exports={firebaseConfig:{apiKey:"AIzaSyDZMV-wcyIvcan5wHJmpXmWrJFd1dEng2w",authDomain:"utubeapp-c443b.firebaseapp.com",databaseURL:"https://utubeapp-c443b.firebaseio.com",projectId:"utubeapp-c443b",storageBucket:"utubeapp-c443b.appspot.com",messagingSenderId:"389173255653"},googleApiConfig:{apiKey:"AIzaSyBdVut9QCzqAHBzfDEh30yUp4E529som6s"}}}},[[106,2,1]]]);
//# sourceMappingURL=main.cf5593d8.chunk.js.map